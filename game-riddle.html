<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁåúÁÅØË∞ú - È©¨Âπ¥Êñ∞Êò•Â∞èÊ∏∏Êàè</title>
    <style>
        /* ÂÖ®Â±ÄÊ†∑ÂºèÈáçÁΩÆ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5eedc 0%, #f8f5f0 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Â§¥ÈÉ®Ê†∑Âºè */
        .game-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .game-title {
            font-size: clamp(24px, 5vw, 36px);
            color: #e67e22;
            margin-bottom: 10px;
        }

        .back-btn {
            display: inline-block;
            padding: 8px 20px;
            background: linear-gradient(90deg, #e67e22, #d35400);
            color: #fff;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 15px;
        }

        /* Ê∏∏ÊàèÂÆπÂô® */
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        /* ÂàÜÊï∞ÊòæÁ§∫ */
        .game-score {
            font-size: 20px;
            color: #e67e22;
            font-weight: 600;
            text-align: center;
            margin-bottom: 15px;
            background-color: #f5eedc;
            padding: 10px;
            border-radius: 10px;
        }

        /* Ê∏∏ÊàèÂå∫Âüü */
        .game-area {
            width: 100%;
            background-color: #f8f5f0;
            border-radius: 10px;
            margin-bottom: 20px;
            padding: 20px;
        }

        /* Á≠îÈ¢òËøõÂ∫¶ */
        .riddle-progress {
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e67e22, #f1c40f);
            width: 20%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-size: 14px;
            color: #666;
        }

        /* È¢òÁõÆÊ†∑Âºè */
        .riddle-question {
            font-size: clamp(18px, 3vw, 24px);
            color: #e67e22;
            text-align: center;
            padding: 20px;
            background-color: #f5eedc;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        /* ÈÄâÈ°πÊ†∑Âºè */
        .riddle-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .riddle-option {
            padding: 15px;
            background-color: #fff;
            border: 2px solid #f1c40f;
            border-radius: 8px;
            font-size: 18px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .riddle-option:hover {
            background-color: #f5eedc;
        }

        .riddle-option.correct {
            background-color: #4CAF50;
            color: #fff;
            border-color: #4CAF50;
        }

        .riddle-option.incorrect {
            background-color: #f44336;
            color: #fff;
            border-color: #f44336;
        }

        /* ÂèçÈ¶àÊ†∑Âºè */
        .riddle-feedback {
            font-size: 18px;
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .riddle-feedback.show {
            display: block;
        }

        .riddle-feedback.correct {
            background-color: #e8f5e9;
            color: #4CAF50;
        }

        .riddle-feedback.incorrect {
            background-color: #ffebee;
            color: #f44336;
        }

        /* ÊåâÈíÆÊ†∑Âºè */
        .game-btn {
            padding: 10px 25px;
            background: linear-gradient(90deg, #e67e22, #d35400);
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 0 auto;
        }

        .game-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* ÁªìÊûúÊ†∑Âºè */
        .riddle-result {
            display: none;
            text-align: center;
            padding: 20px;
            background-color: #f5eedc;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .riddle-result.show {
            display: block;
        }

        .result-title {
            font-size: 20px;
            color: #e67e22;
            margin-bottom: 15px;
        }

        .result-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .result-item {
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="game-header">
        <a href="main.html" class="back-btn">‚Üê ËøîÂõû‰∏ªÈ°µÈù¢</a>
        <h1 class="game-title">ÁåúÁÅØË∞ú üéã</h1>
    </div>

    <div class="game-container">
        <div class="game-score" id="riddleScore">Á≠îÂØπÔºö0 / 0</div>
        
        <div class="game-area">
            <div class="riddle-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="riddleProgress"></div>
                </div>
                <div class="progress-text" id="progressText">1/5</div>
            </div>

            <div class="riddle-question" id="riddleQuestion"></div>

            <div class="riddle-options" id="riddleOptions"></div>

            <div class="riddle-feedback" id="riddleFeedback"></div>

            <button class="game-btn" id="nextRiddleBtn" disabled>‰∏ã‰∏ÄÈ¢ò</button>

            <div class="riddle-result" id="riddleResult">
                <h4 class="result-title">Á≠îÈ¢òÁªìÊûú</h4>
                <div class="result-stats">
                    <div class="result-item">Ê≠£Á°ÆÁéáÔºö<span id="accuracyRate">0</span>%</div>
                    <div class="result-item">Á≠îÈ¢òÁî®Êó∂Ôºö<span id="totalTime">0</span>Áßí</div>
                </div>
                <button class="game-btn" id="restartRiddleBtn">ÈáçÊñ∞Á≠îÈ¢ò</button>
            </div>
        </div>
    </div>

    <script>
        // ÁÅØË∞úÊï∞ÊçÆÔºàÈ©¨Âπ¥ÁâàÔºâ
        const riddleData = [
            {
                question: "ÊàêÂ§©‰∏ÄÁõ¥È™ÇÔºåÈ™ÇÂà∞‰∏§ËæπÈÉΩÊ≤°ÊúâÂò¥ÔºàÊâì‰∏ÄÂ≠óÔºâ",
                options: ["È©¨", "È™Ç", "È©∞", "Âêó"],
                answer: 0,
                explanation: "‚ÄúÈ™Ç‚ÄùÂ≠ó‰∏§ËæπÁöÑÂè£ÔºàÂò¥ÔºâÈÉΩÂéªÊéâÔºåÂ∞±ÊòØ‚ÄúÈ©¨‚ÄùÂ≠ó„ÄÇ"
            },
            {
                question: "È©¨Âπ¥ÊãúÂπ¥ÔºàÊâì‰∏Ä‰ΩúÂÆ∂ÂêçÔºâ",
                options: ["ËÄÅËàç", "Â∑¥Èáë", "ÂÜ∞ÂøÉ", "È≤ÅËøÖ"],
                answer: 2,
                explanation: "ÊãúÂπ¥Â∞±ÊòØÂêë‰∫∫Á•ùË¥∫Êñ∞Âπ¥Ôºå‚ÄúÂÜ∞ÂøÉ‚ÄùË∞êÈü≥‚ÄúËøéÊñ∞‚ÄùÔºåÁ¨¶ÂêàÊãúÂπ¥ÁöÑÂØìÊÑè„ÄÇ"
            },
            {
                question: "‰∏ÄÈ©¨ÂΩìÂÖàÔºàÊâì‰∏ÄËäÇÊó•Ôºâ",
                options: ["Êò•ËäÇ", "Á´ØÂçà", "‰∏≠Áßã", "ÂÖÉÂÆµ"],
                answer: 0,
                explanation: "‰∏ÄÈ©¨ÂΩìÂÖàÂØπÂ∫îÈ©¨Âπ¥ÁöÑÊò•ËäÇÔºåÂØìÊÑèÊñ∞Âπ¥‰∫ã‰∫ãÈ¢ÜÂÖà„ÄÇ"
            },
            {
                question: "È©¨Âπ¥ËøéÊò•ÔºàÊâì‰∏ÄÂ≠óÔºâ",
                options: ["È™Ñ", "È©∂", "È©∞", "È©¥"],
                answer: 0,
                explanation: "È©¨Âπ¥ËøéÊò•ÔºåÈ©¨+‰πîÔºà‰πîÊúâÈ´òÂ§ß„ÄÅÂñúÂ∫Ü‰πãÊÑèÔºâ=È™ÑÔºåÂØìÊÑèÈ©¨Âπ¥È™ÑÂÇ≤ÂâçË°å„ÄÇ"
            },
            {
                question: "È©¨Âà∞ÊàêÂäüÔºàÊâì‰∏ÄÊï∞Â≠óÔºâ",
                options: ["6", "8", "9", "7"],
                answer: 1,
                explanation: "8Ë∞êÈü≥‚ÄúÂèë‚ÄùÔºåÈ©¨Âà∞ÊàêÂäüÂØìÊÑèÂèëË¥¢È°∫Âà©ÔºåÊâÄ‰ª•Á≠îÊ°àÊòØ8„ÄÇ"
            }
        ];

        // DOMÂÖÉÁ¥†Ëé∑Âèñ
        const riddleScore = document.getElementById('riddleScore');
        const riddleQuestion = document.getElementById('riddleQuestion');
        const riddleOptions = document.getElementById('riddleOptions');
        const riddleFeedback = document.getElementById('riddleFeedback');
        const nextRiddleBtn = document.getElementById('nextRiddleBtn');
        const riddleProgress = document.getElementById('riddleProgress');
        const progressText = document.getElementById('progressText');
        const riddleResult = document.getElementById('riddleResult');
        const accuracyRate = document.getElementById('accuracyRate');
        const totalTime = document.getElementById('totalTime');
        const restartRiddleBtn = document.getElementById('restartRiddleBtn');

        // Ê∏∏ÊàèÁä∂ÊÄÅÂèòÈáè
        let currentRiddleIndex = 0;
        let riddleCorrectCount = 0;
        let riddleStartTime = 0;
        let riddleTotalTime = 0;

        // ÂàùÂßãÂåñÊ∏∏Êàè
        resetRiddleGame();

        // ‰∏ã‰∏ÄÈ¢òÊåâÈíÆ‰∫ã‰ª∂
        nextRiddleBtn.addEventListener('click', function() {
            currentRiddleIndex++;
            if (currentRiddleIndex >= riddleData.length) {
                // Ê∏∏ÊàèÁªìÊùüÔºåËÆ°ÁÆóÁªìÊûú
                riddleTotalTime = Math.floor((new Date().getTime() - riddleStartTime) / 1000);
                const accuracy = Math.floor((riddleCorrectCount / riddleData.length) * 100);
                accuracyRate.textContent = accuracy;
                totalTime.textContent = riddleTotalTime;
                riddleResult.style.display = 'block';
                return;
            }
            // ‰∏ã‰∏ÄÈ¢ò
            showCurrentRiddle();
            riddleFeedback.classList.remove('show', 'correct', 'incorrect');
            nextRiddleBtn.disabled = true;
            updateRiddleProgress();
        });

        // ÈáçÊñ∞Á≠îÈ¢òÊåâÈíÆ‰∫ã‰ª∂
        restartRiddleBtn.addEventListener('click', function() {
            riddleResult.style.display = 'none';
            resetRiddleGame();
        });

        // ÈáçÁΩÆÊ∏∏Êàè
        function resetRiddleGame() {
            currentRiddleIndex = 0;
            riddleCorrectCount = 0;
            riddleTotalTime = 0;
            riddleStartTime = new Date().getTime();
            showCurrentRiddle();
            riddleFeedback.classList.remove('show', 'correct', 'incorrect');
            nextRiddleBtn.disabled = true;
            updateRiddleScore();
            updateRiddleProgress();
        }

        // ÊòæÁ§∫ÂΩìÂâçÈ¢òÁõÆ
        function showCurrentRiddle() {
            const riddle = riddleData[currentRiddleIndex];
            riddleQuestion.textContent = riddle.question;
            riddleOptions.innerHTML = '';

            // ÁîüÊàêÈÄâÈ°π
            riddle.options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'riddle-option';
                optionEl.dataset.index = index;
                optionEl.textContent = option;

                optionEl.addEventListener('click', function() {
                    if (document.querySelector('.riddle-option.correct')) return;
                    const selectedIdx = parseInt(this.dataset.index);
                    const isCorrect = selectedIdx === riddle.answer;

                    // Ê†áËÆ∞Á≠îÊ°à
                    if (isCorrect) {
                        this.classList.add('correct');
                        riddleCorrectCount++;
                        riddleFeedback.textContent = `ÊÅ≠Âñú‰Ω†ÔºåÁ≠îÂØπ‰∫ÜÔºÅ${riddle.explanation}`;
                        riddleFeedback.classList.add('show', 'correct');
                    } else {
                        this.classList.add('incorrect');
                        document.querySelectorAll('.riddle-option')[riddle.answer].classList.add('correct');
                        riddleFeedback.textContent = `Á≠îÈîôÂï¶ÔΩûÊ≠£Á°ÆÁ≠îÊ°àÔºö${riddle.options[riddle.answer]}„ÄÇ${riddle.explanation}`;
                        riddleFeedback.classList.add('show', 'incorrect');
                    }

                    updateRiddleScore();
                    nextRiddleBtn.disabled = false;
                });

                riddleOptions.appendChild(optionEl);
            });
        }

        // Êõ¥Êñ∞ÂàÜÊï∞
        function updateRiddleScore() {
            riddleScore.textContent = `Á≠îÂØπÔºö${riddleCorrectCount} / ${currentRiddleIndex + 1}`;
        }

        // Êõ¥Êñ∞ËøõÂ∫¶Êù°
        function updateRiddleProgress() {
            const progress = ((currentRiddleIndex + 1) / riddleData.length) * 100;
            riddleProgress.style.width = `${progress}%`;
            progressText.textContent = `${currentRiddleIndex + 1}/${riddleData.length}`;
        }
    </script>
</body>
</html>